<p align="center">
  <img src="https://img.shields.io/badge/AI-Gemini%202.0-4285F4?style=for-the-badge&logo=google&logoColor=white" alt="Gemini 2.0"/>
  <img src="https://img.shields.io/badge/Python-3.10+-3776AB?style=for-the-badge&logo=python&logoColor=white" alt="Python"/>
  <img src="https://img.shields.io/badge/React-Vite-61DAFB?style=for-the-badge&logo=react&logoColor=black" alt="React"/>
  <img src="https://img.shields.io/badge/FastAPI-009688?style=for-the-badge&logo=fastapi&logoColor=white" alt="FastAPI"/>
</p>

<h1 align="center">ğŸ¯ SecondOrder</h1>

<p align="center">
  <strong>AI-Powered Strategic Business Simulation Engine</strong><br>
  <em>See beyond the obvious. Model the ripple effects of every decision.</em>
</p>

<p align="center">
  <a href="#-the-problem">Problem</a> â€¢
  <a href="#-the-solution">Solution</a> â€¢
  <a href="#-how-it-works">How It Works</a> â€¢
  <a href="#-quick-start">Quick Start</a> â€¢
  <a href="#-features">Features</a> â€¢
  <a href="#-tech-stack">Tech Stack</a>
</p>

---

## âŒ The Problem

Traditional financial models are **dangerously naive**. They assume:
- Linear cause and effect
- Static market conditions
- No competitor responses
- No systemic feedback loops

**Reality check:** When you cut costs, you don't just "save money." Your best engineers leave. Product quality drops. Customers churn. Competitors sense weakness and capture market share.

> *"In complex systems, first-order thinking is how you lose."*

---

## âœ… The Solution

**SecondOrder** is a next-generation business simulation engine that models the **true physics of business decision-making** through three lenses:

| Order | What It Models | Example |
|-------|---------------|---------|
| **1st Order** | Direct, immediate effects | "Cut costs" â†’ Burn decreases |
| **2nd Order** | Systemic feedback loops | "Cut costs" â†’ Product quality drops â†’ Churn increases |
| **3rd Order** | Strategic emergent effects | "Cut costs" â†’ Competitors sense weakness â†’ Market share erodes |

Powered by **Google Gemini 2.0**, SecondOrder runs **Monte Carlo simulations across 50+ parallel futures** to give you probability-weighted outcomesâ€”not just one guess.

---

## ğŸ§  How It Works

<p align="center">
  <img width="800" alt="SecondOrder Architecture" src="./assets/architecture.png"/>
</p>

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        YOUR DECISION                            â”‚
â”‚                  "Increase ad spend by 30%"                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1ï¸âƒ£ FIRST ORDER ENGINE                                          â”‚
â”‚  â€¢ Direct financial impact: -$30K/month                         â”‚
â”‚  â€¢ Traffic increase: +40% leads                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2ï¸âƒ£ SECOND ORDER ENGINE                                         â”‚
â”‚  â€¢ CAC rises as ad market saturates                             â”‚
â”‚  â€¢ Sales team bandwidth stretched â†’ conversion drops            â”‚
â”‚  â€¢ Cash runway shortened â†’ fundraising pressure                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  3ï¸âƒ£ THIRD ORDER ENGINE (Gemini AI)                              â”‚
â”‚  â€¢ Competitors respond with price cuts                          â”‚
â”‚  â€¢ Market perceives desperation â†’ brand damage                  â”‚
â”‚  â€¢ Talent market tightens as cash signal weakens               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ² MONTE CARLO SIMULATION                                       â”‚
â”‚  50 parallel futures Ã— 12 months = Probability Cloud            â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€              â”‚
â”‚  P10 (Downside):  $120K remaining                               â”‚
â”‚  P50 (Median):    $340K remaining                               â”‚
â”‚  P90 (Upside):    $580K remaining                               â”‚
â”‚  Survival Rate:   73%                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Quick Start

### Prerequisites
- Python 3.10+
- Node.js 18+
- Google Gemini API Key ([Get one free](https://makersuite.google.com/app/apikey))

### 1. Clone & Configure
```bash
git clone https://github.com/vibhorrrrr/SecondOrder.git
cd SecondOrder

# Set your API key
echo "GOOGLE_API_KEY=your-api-key-here" > .env
```

### 2. Launch
```bash
./start.sh
```

### 3. Open
- ğŸ–¥ï¸ **Frontend**: http://localhost:5173
- âš™ï¸ **API Docs**: http://localhost:8000/docs

### Manual Setup (Alternative)
```bash
# Backend
pip install -r requirements.txt
python api.py

# Frontend (new terminal)
cd ui && npm install && npm run dev
```

---

## âœ¨ Features

### ğŸ² Monte Carlo Simulation Engine
- **50+ parallel simulation paths** per scenario
- **P10/P50/P90 probability distributions** for every outcome
- **Survival probability scoring** to quantify risk

### ğŸŒ³ MCTS Decision Trees
- **Monte Carlo Tree Search** to explore optimal strategy paths
- **UCB1 exploration-exploitation** balancing
- **Kelly Criterion bet sizing** for capital allocation

### ğŸ¤– Gemini AI Integration
- **3rd-order effect generation** in real-time
- **Strategic recommendations** based on simulation results
- **Risk/opportunity identification** with context-aware analysis

### ğŸ“Š Interactive Dashboard
- **Real-time simulation visualization**
- **Decision tree explorer** with drill-down analysis
- **Trace viewer** to inspect individual simulation paths

### ğŸ›¡ï¸ Enterprise-Grade Reliability
- **Heuristic fallback engine** when AI is unavailable
- **Deterministic mode** for reproducible results
- **Comprehensive logging** and error handling

---

## ğŸ›  Tech Stack

| Layer | Technology |
|-------|------------|
| **AI Engine** | Google Gemini 2.0 Flash/Pro |
| **Backend** | Python, FastAPI, NumPy, Pydantic |
| **Simulation** | Monte Carlo, MCTS, Kelly Criterion |
| **Frontend** | React 18, Vite, Recharts, TailwindCSS |
| **API** | REST with OpenAPI/Swagger docs |

---

## ğŸ“ Project Structure

```
SecondOrder/
â”œâ”€â”€ api.py                    # FastAPI server entry point
â”œâ”€â”€ monte_carlo.py            # Monte Carlo simulation engine
â”œâ”€â”€ mcts.py                   # Monte Carlo Tree Search
â”œâ”€â”€ simulation_engine.py      # Core business physics engine
â”œâ”€â”€ bet_sizing.py             # Kelly Criterion capital allocation
â”œâ”€â”€ business_state.py         # State vector definition
â”œâ”€â”€ first_order.py            # Direct effects calculator
â”œâ”€â”€ second_order.py           # Feedback loop modeler
â”œâ”€â”€ node_generation_gemini.py # AI decision node generator
â”œâ”€â”€ third_order_gemini.py     # AI emergent effects engine
â”œâ”€â”€ validators.py             # Input validation layer
â”œâ”€â”€ causal_graph_prototype.py # Cause-effect graph modeling
â”‚
â”œâ”€â”€ ui/                       # React frontend
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ SimulationDashboard.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SimulationChart.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TreeView.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ NodeDetails.jsx
â”‚   â”‚   â”‚   â”œâ”€â”€ StreamingPanel.jsx
â”‚   â”‚   â”‚   â””â”€â”€ TraceViewerModal.jsx
â”‚   â”‚   â””â”€â”€ services/         # API client layer
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ start.sh                  # One-command launcher
â”œâ”€â”€ stop.sh                   # Graceful shutdown
â””â”€â”€ requirements.txt          # Python dependencies
```

---

## ğŸ”Œ API Reference

### `POST /simulate`
Run a Monte Carlo simulation with action modifiers.

```json
{
  "initial_state": {
    "cash": 500000,
    "monthly_revenue": 50000,
    "monthly_burn": 80000,
    "customers": 100
  },
  "action": {
    "monthly_burn": 100000
  },
  "months": 12,
  "num_runs": 50
}
```

### `POST /generate_nodes`
Generate AI-powered decision options for a given state.

```json
{
  "state": {
    "cash": 500000,
    "monthly_revenue": 50000,
    "monthly_burn": 80000
  }
}
```

---

## ğŸ“ˆ Sample Output

```json
{
  "survival_probability": 0.73,
  "p10": 120000,
  "p50": 340000,
  "p90": 580000,
  "gemini_recommendations": [
    "Consider extending runway via bridge round before aggressive growth",
    "Optimize CAC before scaling ad spend"
  ],
  "gemini_risks": [
    "Cash runway below 6 months triggers talent flight risk",
    "Competitor response likely within 60 days"
  ]
}
```

---

## ğŸ¤ Contributing

We welcome contributions! Please see our [Contributing Guide](CONTRIBUTING.md) for details.

---

## ğŸ“„ License

MIT License - see [LICENSE](LICENSE) for details.

---

<p align="center">
  <strong>Built for founders who think in systems, not spreadsheets.</strong><br>
  <em>Made with â¤ï¸ and a lot of Monte Carlo simulations</em>
</p>
